# Changelog for PommaLabs.KVLite

### v7.0.1 (2018-01-??)

* [UPD] Reverted to MySql.Data as low level driver for MySQL and MariaDB.
* [UPD] Updated JSON.NET to v11.
* [REM] Removed NodaTime and updated interfaces accordingly.
* [ADD] Some integration tests have been setup on AppVeyor.
* [ADD] Many unit tests can now run in parallel.
* [UPD] MemoryCache sample driver can now run on .NET Standard 2.0.
* [ADD] Implemented an adapter for [FluentCache](https://github.com/cordialgerm/FluentCache).

### v6.4.4 (2017-10-31)

* [UPD] Using MySqlConnector as low level driver for MySQL and MariaDB.
* [UPD] Dynamic JSON deserialization of date/time properties should produce a property with DateTimeOffset type.
* [UPD] Dynamic JSON deserialization of double/decimal properties should produce a property with Decimal type.

### v6.4.3 (2017-10-29)

* [UPD] Slightly improved documentation.
* [ADD] New ASP.NET Core session helpers. 

### v6.4.2 (2017-10-28)

* [UPD] Updated NodaTime to v2.2.2.
* [UPD] Updated EF to v6.2.0.

### v6.4.1 (2017-10-22)

* [UPD] Updated NodaTime to v2.2.1.
* [ADD] Added support for .NET Framework 4.7.1 and 4.5.2.

### v6.4.0 (2017-08-16)

* [ADD] Added support for .NET Standard 2.0 and .NET Framework 4.6.1.
* [REM] All previous versions of above toolkits are not supported anymore.
* [UPD] Completed PostgreSQL driver.

### v6.3.3 (2017-07-30)

* [ADD] Default JSON serializer now has all converters for NodaTime types.
* [ADD] Added registrations for .NET Core services collections.
* [UPD] Settings have been moved to cleanup connection factories.

### v6.3.2 (2017-07-19)

* [ADD] Default JSON serializer now has a custom converter for Claim class.
* [UPD] Updated NodaTime.

### v6.3.1 (2017-07-09)

* [UPD] Renamed all methods involving default partition.
* [UPD] Updated NodaTime.

### v6.3.0 (2017-07-09)

* [UPD] Changed SQL table structure, now using hashs for faster lookups.
* [REM] Removed embedded Thrower and a few unneeded dependencies.
* [UPD] Reduced the number of allowed parent keys from 5 to 3.

### v6.2.5 (2017-06-11)

* [REM] Removed dependency on CodeProject.ObjectPool, now using Microsoft.IO.RecyclableMemoryStream.
* [ADD] Added FakeRandom class for unit tests.
* [ADD] Embedded LibLog.
* [ADD] Embedded Thrower.

### v6.2.3 (2017-05-29)

* [UPD] SQL tables no longer need foreign keys to handle parent keys.
* [ADD] Added MaxParentKeyTreeDepth property to inspect how deep can be the tree generated by parent keys. 
* [UPD] Properly overridden all async methods inside DbCache.

### v6.2.2 (2017-05-05)

* [REM] Removed dependency on Polly.
* [ADD] Added support for Microsoft IDistributedCache interface.

### v6.2.1 (2017-04-17)

* [UPD] Updated packages.
* [UPD] Random cleanup task is now started on a dedicated thread. 
* [REM] Removed support for .NET 4, since its async polyfill was causing issues with new project format (VS2017).
* [ADD] Added support for .NET Standard 1.3 in all projects where it was feasible.
* [UPD] Changed SQLite driver to Microsoft.Data.SQLite, in order to support .NET Standard 1.3.
* [UPD] Using NodaTime clock and types instead of custom interfaces.

### v6.1.0 (2017-03-31)

* [REM] Removed integration with Microsoft caching abstractions. It will be added again as a separate package. 

### v6.0.9 (2017-03-30)

* [UPD] Updated packages.
* [FIX] Added missing deps in NuGet packages.

### v6.0.7 (2017-02-26)

* [REM] Removed everything related to CodeServices.
* [ADD] Imported everything required from CodeServices.

### v6.0.6 (2017-02-05)

* [FIX] Fixed missing exception logging on failed retries.
* [ADD] "Add*" methods are now properly async.
* [UPD] Added optimizations for certain data types (strings and byte arrays).
* [UPD] Updated many dependencies.

### v6.0.5 (2016-12-27)

* [UPD] Complete library rewrite.
* [ADD] Added new simple anti-tamper mechanism.
* [ADD] Added new retry policy for add and clear operations.

### v5.2.6 (2016-06-26)

* [UPD] Updated System.Data.SQLite to version 1.0.102.0.
* [UPD] Moved interfaces and core classes to PommaLabs.CodeServices.Caching package.

### v5.2.5 (2016-04-23)

* [UPD] Updated System.Data.SQLite to version 1.0.101.0.

### v5.2.4 (2016-04-10)

* [UPD] Updated a few dependencies.
* [FIX] Minor internal rework to cache SQLite commands.

### v5.2.2 (2016-03-29)

* [UPD] Updated lots of dependencies.
* [FIX] Fixed a bug in type name handling during serialization and deserialization.
* [UPD] Reduced the number of parent keys for SQLite caches from 10 to 5.
* [FIX] Fixed an inizialization which was happening too early for WebCaches.
* [UPD] Now using Deflate as the default compressor. Deflate replaces Snappy, which seemed an "unsafe" solution for the long term.
